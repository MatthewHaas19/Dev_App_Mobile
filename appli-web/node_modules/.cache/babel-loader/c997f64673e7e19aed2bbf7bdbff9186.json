{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dev_App_Mobile\\\\appli-web\\\\src\\\\Views\\\\Register.js\";\nimport React, { Component } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { createMuiTheme, withStyles, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport { green, blue, purple } from '@material-ui/core/colors';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport { setUserDb } from '../API/UserApi';\nimport Noteworthy from '../fonts/Noteworthy-Lt.woff';\nimport cookie from 'react-cookies';\nimport { store } from '../Store/store';\nimport { connect } from 'react-redux';\nimport history from '../history';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nvar bcrypt = require('bcryptjs');\n\nconst useStyles = theme => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  large: {\n    width: theme.spacing(15),\n    height: theme.spacing(15),\n    margin: 15\n  },\n  margin: {\n    margin: theme.spacing(1),\n    margin: theme.spacing(3, 0, 2)\n  },\n  card: {\n    boxShadow: \"10px 10px 10px #9E9E9E\",\n    marginTop: 50\n  },\n  title: {\n    flexGrow: 1,\n    color: \"black\",\n    marginLeft: 10,\n    fontFamily: 'Noteworthy Light',\n    fontWeight: 400\n  }\n});\n\nconst ColorButton = withStyles(theme => ({\n  root: {\n    color: theme.palette.getContrastText(purple[500]),\n    backgroundColor: blue[400],\n    '&:hover': {\n      backgroundColor: blue[600]\n    }\n  }\n}))(Button);\nconst theme = createMuiTheme({\n  palette: {\n    primary: green\n  }\n});\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const user = {\n        username: this.state.username,\n        post: [],\n        password: this.state.password,\n        email: this.state.email\n      };\n\n      if (e.password == e.cpassword) {\n        setUserDb(user).then(data => {\n          if (data == \"{\\\"res\\\":\\\"correct\\\",\\\"message\\\":\\\"register ok\\\"}\") {\n            history.push('/login');\n          } else {\n            console.log(\"erreur register\");\n          }\n        });\n      }\n    };\n\n    this.state = {\n      username: '',\n      email: '',\n      password: '',\n      cpassword: ''\n    };\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return React.createElement(Container, {\n      component: \"main\",\n      maxWidth: \"xs\",\n      maxHeight: \"xs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: classes.card,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(ArrowBackIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }))), React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      alt: \"Remy Sharp\",\n      src: \"/assets/H2R.png\",\n      className: classes.large,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      component: \"h1\",\n      variant: \"h5\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Register\"), React.createElement(\"form\", {\n      className: classes.form,\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"username\",\n      label: \"Pseudo\",\n      name: \"username\",\n      autoComplete: \"username\",\n      autoFocus: true,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      id: \"email\",\n      label: \"E-mail\",\n      name: \"email\",\n      autoComplete: \"email\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"password\",\n      label: \"Mot de passe\",\n      type: \"password\",\n      id: \"password\",\n      autoComplete: \"current-password\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true,\n      name: \"cpassword\",\n      label: \"Confirmation mot de passe\",\n      type: \"password\",\n      id: \"cpassword\",\n      autoComplete: \"confirmed-password\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(ColorButton, {\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.margin,\n      type: \"submit\",\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"Register\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuth: state.auth.isAuth,\n    currentUser: state.user.currentUser\n  };\n};\n\nexport default connect(mapStateToProps)(withStyles(useStyles)(Register));","map":{"version":3,"sources":["D:/Dev_App_Mobile/appli-web/src/Views/Register.js"],"names":["React","Component","Avatar","createMuiTheme","withStyles","makeStyles","ThemeProvider","Button","green","blue","purple","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","Container","Card","CardActions","CardContent","setUserDb","Noteworthy","cookie","store","connect","history","IconButton","ArrowBackIcon","bcrypt","require","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","large","height","card","boxShadow","title","flexGrow","color","marginLeft","fontFamily","fontWeight","ColorButton","root","getContrastText","primary","Register","constructor","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","user","username","state","post","password","email","cpassword","then","data","push","console","log","render","classes","mapStateToProps","isAuth","auth","currentUser"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { createMuiTheme, withStyles, makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport { green, blue, purple } from '@material-ui/core/colors';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport {setUserDb} from '../API/UserApi'\r\nimport Noteworthy from '../fonts/Noteworthy-Lt.woff';\r\nimport cookie from 'react-cookies';\r\nimport {store} from '../Store/store'\r\nimport { connect } from 'react-redux'\r\nimport history from '../history';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nvar bcrypt = require('bcryptjs');\r\n\r\nconst useStyles = theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  large: {\r\n    width: theme.spacing(15),\r\n    height: theme.spacing(15),\r\n    margin: 15\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  card: {\r\n    boxShadow: \"10px 10px 10px #9E9E9E\",\r\n    marginTop: 50\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color: \"black\",\r\n    marginLeft: 10,\r\n    fontFamily: 'Noteworthy Light',\r\n    fontWeight: 400,\r\n  },\r\n});\r\n\r\nconst ColorButton = withStyles(theme => ({\r\n  root: {\r\n    color: theme.palette.getContrastText(purple[500]),\r\n    backgroundColor: blue[400],\r\n    '&:hover': {\r\n      backgroundColor: blue[600],\r\n    },\r\n  },\r\n}))(Button);\r\n\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: green,\r\n  },\r\n});\r\n\r\n\r\n\r\n\r\n\r\nclass Register extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      cpassword:''\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({[e.target.name]: e.target.value })\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const user = {\r\n      username: this.state.username,\r\n      post : [],\r\n      password: this.state.password,\r\n      email : this.state.email,\r\n    };\r\n    if(e.password == e.cpassword){\r\n      setUserDb(user)\r\n        .then(data => {\r\n          if(data == \"{\\\"res\\\":\\\"correct\\\",\\\"message\\\":\\\"register ok\\\"}\"){\r\n            history.push('/login');\r\n          }\r\n          else{\r\n            console.log(\"erreur register\")\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n\r\n  const {classes} = this.props\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" maxHeight=\"xs\">\r\n    <Card className={classes.card}>\r\n      <CardContent>\r\n        <Link to=\"/\">\r\n          <IconButton  aria-label=\"search\">\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n        </Link>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar alt=\"Remy Sharp\" src=\"/assets/H2R.png\" className={classes.large} />\r\n\r\n        <Typography component=\"h1\" variant=\"h5\" className={classes.title} >\r\n          Register\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={this.onSubmit}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Pseudo\"\r\n            name=\"username\"\r\n            autoComplete=\"username\"\r\n            autoFocus\r\n            onChange={this.onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"E-mail\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            onChange={this.onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Mot de passe\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={this.onChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"cpassword\"\r\n            label=\"Confirmation mot de passe\"\r\n            type=\"password\"\r\n            id=\"cpassword\"\r\n            autoComplete=\"confirmed-password\"\r\n            onChange={this.onChange}\r\n          />\r\n\r\n          <ColorButton variant=\"contained\" color=\"primary\" className={classes.margin} type=\"submit\"\r\n            fullWidth>\r\n            Register\r\n          </ColorButton>\r\n\r\n        </form>\r\n      </div>\r\n      </CardContent>\r\n    </Card>\r\n    </Container>\r\n  );\r\n}\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    currentUser: state.user.currentUser\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withStyles(useStyles)(Register))\r\n"]},"metadata":{},"sourceType":"module"}